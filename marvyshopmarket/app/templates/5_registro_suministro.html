{% extends 'base.html' %}
{% block title %}Marvy Shopmarket | Registrar suministro {% endblock %}
{% block content %}

<div class="registro" id="registro-suministro">
    <div class="title">
        <h1>Registro de Suministro</h1>
    </div>
    {% if estado == 0 %}
        <p style="color: red" class="mensaje">{{ mensaje }}</p>
        <script> 
            function redirigirDespuesDeTiempo() {
                setTimeout(function() {
                    window.location.href = "{{ url_for('main.registro_suministro') }}";
                }, 3500); 
            }
            redirigirDespuesDeTiempo()
        </script>
    {% elif estado == 1 %}
        <p style="color: rgb(111, 255, 0)" id="mensaje" class="mensaje">{{ mensaje }}</p>
        
        <script>
            function redirigirDespuesDeTiempo() {
                setTimeout(function() {
                    window.location.href = "{{ url_for('main.registro_suministro') }}";
                }, 2000);   
            }
            redirigirDespuesDeTiempo()
        </script>
    {% else %}
        <p id="mensaje"></p>
    {% endif %}
    <div class="formulario">
        <form method="post , GET" action="/suministros" enctype="multipart/form-data" id="form-suministro">
            <table>
                <tbody>
                    <tr>
                        <td>
                            <label>Id factura: </label>
                            <div><input placeholder="#" id="id-suministro" name="idregistro-suministo"></div>
                        </td>
                        <td>
                            <label>Id: </label>
                            <div><input placeholder="Id producto" id="id-producto-suministro" class="id-producto-suministro" name="id-producto-suministro"></div>
                        </td>
                        <td>
                            <label>Cantidad: </label>
                            <div><input type="number" placeholder="Cantidad" name="cantidad-producto-suministro" id="cantidad-producto-suministro"></div>
                        </td>
                        <td>
                            <label>Fecha: </label>
                            <div><input type="date" placeholder="fecha" id="fecha-producto-suministro" name="fecha-producto-suministro"></div>
                        </td>
                        <td>
                            <label>Metodo de pago: </label>
                            <div><input placeholder="Nombre" id="metodo-pago-suministro" name="metodo-pago-suministro"></div>
                        </td>
                        <td>
                            <label>Total: </label>
                            <div><input type="number" placeholder="Total" name="total-producto-suministro" id="total-producto-suministro"></div>
                        </td>
                        <td>
                            <label> Pago: </label>
                            <div><input type="number" placeholder="pago" name="pago-producto-suministro" id="pago-producto-suministro"></div>
                        </td>
                        <td>
                            <label>Vueltos: </label>
                            <div>$ <input type="number" placeholder="vueltos" id="vueltos-producto-suministro" name="vueltos-producto-suministro"></div>
                        </td>
                        <td>
                            <label>Tienda id: </label>
                            <div> <input type="number" placeholder="Tienda id" name="tienda id-producto-suministro" id="tienda id-producto-suministro"> </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="botom-confirmar">
                <button>Confirmar</button>
            </div>
        </form>

    <!-- Mostrar información de suministros -->
    <div class="suministros-info">
        <h2>Lista de Suministros</h2>
        <ul>
            {% for suministro in suministros %}
                <li>
                    <p>Id: {{ suministro.sum_Id }}</p>
                    <p>Cantidad: {{ suministro.sum_Cantidad }}</p>
                    <p>Fecha: {{ suministro.sum_Datetime }}</p>
                    <p>Método de pago: {{ suministro.sum_Metodo_pago }}</p>
                    <p>Total: {{ suministro.sum_Total }}</p>
                    <p>Pago: {{ suministro.sum_Pago }}</p>
                    <p>Vueltos: {{ suministro.sum_Vueltos }}</p>
                    <p>Tienda ID: {{ suministro.tienda_Id }}</p>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>

{% endblock %}
